<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animais para Adoção</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   <header>
    <h1>Adote um Amigo!</h1>
    <nav>
        <a href="cadastro.html" class="btn-link">Cadastrar Animal</a>
    </nav>
</header>

   <main>
    <h2 class="titulo-centralizado">Animais Disponíveis</h2>
    <div id="animais-container" class="animais-grid">
        </div>
</main>

    <footer>
        <p>&copy; 2025   Adote Já! Todos os direitos reservados.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const container = document.getElementById('animais-container');

        fetch('https://projeto-adote-ja-1.onrender.com')
            .then(response => response.json())
            .then(data => {
                if (data.length === 0) {
                    container.innerHTML = '<p>Nenhum animal cadastrado ainda. Seja o primeiro a adicionar!</p>';
                } else {
                    data.forEach(animal => {
                        // Cria a tag <a> que vai levar para a página de detalhes
                        const animalLink = document.createElement('a');
                        animalLink.href = `detalhe-animal.html?id=${animal.id}`; // URL com o ID do animal

                        // Cria o card do animal
                        const card = document.createElement('div');
                        card.className = 'animal-card';

                        const fotoUrl = animal.fotos[0] ? `https://projeto-adote-ja-1.onrender.com${animal.fotos[0]}` : 'https://via.placeholder.com/200?text=Sem+Foto';

                        card.innerHTML = `
                            <img src="${fotoUrl}" alt="Foto de ${animal.nome_animal}">
                            <div class="card-content">
                                <h3>${animal.nome_animal}</h3>
                                <p><strong>Resgatante:</strong> ${animal.nome_resgatante}</p>
                                <p><strong>Local:</strong> ${animal.local}</p>
                            </div>
                        `;

                        animalLink.appendChild(card); // Anexa o card ao link
                        container.appendChild(animalLink);
                    });
                }
            })
            .catch(error => {
                console.error('Erro ao carregar animais:', error);
                container.innerHTML = '<p>Erro ao carregar os animais. Tente novamente mais tarde.</p>';
            });
    });
</script>
</body>
</html>